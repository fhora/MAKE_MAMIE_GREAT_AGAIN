<div class="py-5">
  <div class="col-4 container">
    <h1 class="text-center">Post a new mission</h1><br>
    <div class="new-mission justify-content-center d-flex border rounded" style="background-color: white">
      <div class="p-4 col-12">
        <%= simple_form_for(@mission, data: { controller: 'flatpickr'}) do |f| %>
          <%= f.input :title, label: false, placeholder:"Mission title..." %>
          <%= f.input :description, label: false, placeholder: "Describe the mission..." %>
          <%= f.input :location,
            input_html: {data: {address_autocomplete_target: "location"}, class: "d-none"},
            wrapper_html: {data: {controller: "address-autocomplete",
          address_autocomplete_api_key_value: ENV["MAPBOX_API_KEY"]}}
          %>
          <div class="row">
            <%= f.input :start_date, label:"Date",
                as: :string,
                wrapper_html: { class: 'col-6' },
                input_html: {
                  data: {
                    flatpickr_target: 'startDateInput',
                  },
                }
            %>
            <%= f.input :reward_cents, label:"Mission price", wrapper_html: { class: 'col-6' } %>
              <div>
                <%= f.input :categories,
                  as: :check_boxes,
                  label: "Choose one or more categories :",
                  collection_wrapper_tag: 'div',
                  collection_wrapper_class: 'wrapper-checkboxes',
                  collection: Mission::CATEGORIES,
                  input_html: {class: "d-none"},
                  label_method: lambda {|item| render 'checkboxes', item: item}
                %>
              </div>
          </div>
          <hr class="mt-0">
          <%= f.submit "Submit", class: "btn btn-orange" %>
        <% end %>
      </div>
    </div>
  </div>
</div>
