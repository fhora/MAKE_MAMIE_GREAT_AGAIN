<div class="modal fade" id="new_mission_modal" tabindex="-1" role="dialog" style="z-index: 3000">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="container">
      <div style="background-color: white">
        <div class="p-4 col-12  pe-auto">
          <div class="d-flex justify-content-center">
            <h1>Post a new mission</h1>
            <button type="button" class="btn-close ms-auto" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <%= simple_form_for(Mission.new, data: { controller: 'flatpickr'}) do |f| %>
            <%= f.input :title, label: false, placeholder:"Mission title..." %>
            <%= f.input :description, label: false, placeholder: "Describe the mission..." %>
            <%= f.input :location,
              input_html: {data: {address_autocomplete_target: "location"}, class: "d-none"},
              wrapper_html: {data: {controller: "address-autocomplete",
            address_autocomplete_api_key_value: ENV["MAPBOX_API_KEY"]}}
            %>
            <div class="row">
              <%= f.input :start_date, label:"Date",
                  as: :string,
                  wrapper_html: { class: 'col-6' },
                  input_html: {
                    data: {
                      flatpickr_target: 'startDateInput',
                    },
                  }
              %>
              <%= f.input :reward_cents, label:"Mission price", wrapper_html: { class: 'col-6' } %>
                <div>
                  <%= f.input :categories,
                    as: :check_boxes,
                    label: "Choose one or more categories :",
                    collection_wrapper_tag: 'div',
                    collection_wrapper_class: 'wrapper-checkboxes',
                    collection: Mission::CATEGORIES,
                    input_html: {class: "d-none"},
                    label_method: lambda {|item| render 'missions/checkboxes', item: item}
                  %>
                </div>
            </div>
            <hr class="mt-0">
            <%= f.submit "Submit", class: "btn btn-orange btn-block" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
